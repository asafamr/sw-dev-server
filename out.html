<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <script src='main.js'></script>
</head>
<body>
    <iframe id="ifrm-sw" style="position:absolute; visibility:none" src="https://asafamr.github.io/sw-dev-server/"></iframe>
    <iframe id="ifrm-viewport" style="position:absolute; visibility:none" src=""></iframe>

    <script>
        window.addEventListener('message',(msg)=>{
            console.log('out got msg', msg)
      if(msg.data === 'swready'){
        document.getElementById('ifrm-sw').contentWindow.postMessage({type:"add", content:'djsfisdi',url:"https://asafamr.github.io/sw-dev-server/dev/zcxczx", mime:"text/html"}, "*")
        // document.getElementById('ifrm-viewport').src+=""
        //   document.getElementById('ifrm-viewport').src += ''

        // document.getElementById('ifrm').contentWindow.postMessage({type:"post", content:'nice',path:"somepaccc", mime:"text/html"}, "*")
      } 
      if(msg.data && msg.data.type === 'synced'){
        document.getElementById('ifrm-viewport').src =  msg.data.url;
        document.getElementById('ifrm-viewport').style.visibility = 'initial';
      }

    })
    </script>
</body>
</html>